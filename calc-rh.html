<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="shortcut icon" href="./favicon.ico">
	<title>計算ツール：気温・露点温度→相対湿度</title>
</head>

<body>
	<h2>気温・露点温度→相対湿度</h2>
	<p>METAR 等から取得した気温および露点温度から相対湿度を求めます。</p>
	<form name="temp">
		<ul>
			<li>気温 <input type="text" name="temperature" value="" size="3" autofocus> ℃</li>
			<li>露点温度 <input type="text" name="dew_point" value="" size="3"> ℃</li>
		</ul>
		<p><input type="button" name="calculate" value="相対湿度を計算する" onClick="calculateRelativeHumidity()"></p>
		<p><span id="relative_humidity">&nbsp;</span></p>
	</form>
	<script>
		function calculateRelativeHumidity() {
			var t = parseInt(document.forms["temp"].temperature.value);
			var dp = parseInt(document.forms["temp"].dew_point.value);
			
			var rh = 100 * (Math.exp((17.625 * dp) / (243.04 + dp)) / Math.exp((17.625 * t) / (243.04 + t)))
			
			document.getElementById("relative_humidity").innerHTML = "相対湿度: " + Math.round(rh) + " %";
		}
	</script>
</body>
</html>
